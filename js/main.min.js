$(".tab").click(function () {
    let path = $(this).attr("data-tabs-path")
    $(".tab").removeClass("tab--active")
    $(this).addClass("tab--active")
    $(".tab__content").removeClass("tab__content--active")
    $(`.tab__content[data-tabs-path="${path}"]`).addClass("tab__content--active")
})

function mainSlider() {
    var swiper = new Swiper('.main .swiper-container', {
        slidesPerView: 1,
        spaceBetween: 0,
        speed: 1200,
        effect: 'fade',
        autoplay:{
          delay: 5000
        },
        allowTouchMove: false,
        loop: true,
        // fadeEffect: {
        //     crossFade: true
        // },
        pagination: {
            el: '.main .swiper-pagination',
            clickable: true,
            renderBullet: function (index, className) {
                let num = getPaginationNum(index+1)
                return `<span class="swiper-pagination-bullet">${num}</span>`;
            },
        }
    })
    function getPaginationNum(num){
        if(num<10){
            return `0${num}`
        }
        return num
    }
}

function newsSlider() {
    var swiper = new Swiper('.news .swiper-container', {
        slidesPerView: 3,
        spaceBetween: 40,
        navigation: {
            nextEl: '.news .swiper-button-next',
            prevEl: '.news .swiper-button-prev',
        },
        breakpoints: {
            320: {
                slidesPerView: "auto",
                spaceBetween: 15
            },
            460: {
                slidesPerView: "auto",
                spaceBetween: 32
            },
            576: {
                slidesPerView: 2,
                spaceBetween: 16
            },
            768: {
                slidesPerView: 3,
                spaceBetween: 16
            },
            1450: {
                slidesPerView: 3,
                spaceBetween: 32
            },
            1600: {
                slidesPerView: 3,
                spaceBetween: 40
            },
        }
    })
}

function gallery() {
    var swiper = new Swiper(".gallery .mySwiper", {
        spaceBetween: 16,
        slidesPerView: 4,
        freeMode: true,
        watchSlidesProgress: true,
        direction: 'vertical',
        breakpoints: {
            320: {
                slidesPerView: 3,
                spaceBetween: 16
            },
            576: {
                slidesPerView: 4,
                spaceBetween: 16
            },
        }
    });
    var swiper2 = new Swiper(".gallery .mySwiper2", {
        spaceBetween: 10,
        direction: 'vertical',
        thumbs: {
            swiper: swiper,
        },
    });
}

function collectionSlider() {
    var swiper = new Swiper('.collection .swiper-container', {
        slidesPerView: 4,
        spaceBetween: 40,
        navigation: {
            nextEl: '.collection .swiper-button-next',
            prevEl: '.collection .swiper-button-prev',
        },
        breakpoints: {
            320: {
                slidesPerView: "auto",
                spaceBetween: 15
            },
            460: {
                slidesPerView: "auto",
                spaceBetween: 32
            },
            576: {
                slidesPerView: 2,
                spaceBetween: 16
            },
            768: {
                slidesPerView: 3,
                spaceBetween: 16
            },
            1100: {
                slidesPerView: 4,
                spaceBetween: 16
            },
            1450: {
                slidesPerView: 4,
                spaceBetween: 32
            },
            1600: {
                slidesPerView: 4,
                spaceBetween: 40
            },
        }
    })
}

function mobSliders() {
    $(".mob-slider").each(function (index, el) {
        $(el).attr("data-slider-id", `${index}`)
        var swiper = new Swiper(`.mob-slider[data-slider-id="${index}"] .swiper-container`, {
            slidesPerView: "auto",
            spaceBetween: 0,
            breakpoints: {
                320: {
                    spaceBetween: 15
                },
                460: {
                    spaceBetween: 32
                },
                576: {
                    spaceBetween: 0
                }
            }
        })
    });
}



mainSlider()
newsSlider()
gallery()
collectionSlider()
mobSliders()

$(".nav__item").hover(onIn, onOut);
$(".nav__item-show").click(function() {
    if ((window.innerWidth < 992)) {
        $(this).siblings(".nav__item-hidden").slideToggle()
    }

})

function onIn() {
    if (window.innerWidth > 992) {
        let el = $(this)
        setTimeout(function() {
            if (el.is(':hover')) {
                console.log(el)
                el.children(".nav__item-show").addClass("nav__item-show--active")
            }
        }, 200);
    }
}

function onOut() {
    if (window.innerWidth > 992) {
        $(this).children(".nav__item-show").removeClass("nav__item-show--active")
    }
}


$(".sidebar__burger").click(function () {
    $(".sidebar__burger").toggleClass("sidebar__burger--active")
    $(".header").toggleClass("_open")
    $("body").toggleClass("fixed-body")
})

$(".menu__tab").click(function () {
    if (window.innerWidth > 992) {
        $(".menu__tab").removeClass("menu__tab--active")
        $(this).addClass("menu__tab--active")
        $(".menu__content").fadeOut()
        $(this).siblings(".menu__content").fadeIn()
    } else{
        $(this).toggleClass("menu__tab--active")
        $(this).siblings(".menu__content").slideToggle()
    }
})


$(".search-toggler").click(function () {
    $(".header").addClass("_search-open")
    $(this).addClass("_disable")
})


$(document).mouseup(function(e) {
    var div = $('.header-search');
    if (!div.is(e.target) && div.has(e.target).length === 0) {
        if($(".header").hasClass("_search-open")){
            $(".header").removeClass("_search-open")
            $(".search-toggler").removeClass("_disable")
        }
    }
});

$("[data-modal]").click(function () {
    let modalId = $(this).attr("data-modal")

    openModal(modalId)
})

function openModal(modalId){
    $(`#${modalId}`).addClass("modal--active")
    $("body").addClass("fixed-body")
}

$(".modal").click(function () {
    closeModal()
})

$(".modal__close").click(function () {
    closeModal()
})

$(".modal__dialog").click(function (e) {
    e.stopPropagation()
})


function closeModal() {
    $('.modal').removeClass("modal--active")
    $("body").removeClass("fixed-body")
}

$(document).ready(function() {
    $('input[type="tel"]').mask('+7 999 999-9999', { autoclear: false }, { placeholder: '+7             ' });


    if (window.innerWidth < 768) {
        portfolioSlider()
    }
    if (window.innerWidth < 1200) {
        projectsSliders()
        trustSliders()
    }





});
//# sourceMappingURL=../sourcemaps/main.min.js.map
